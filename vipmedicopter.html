<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Medicopter 117 - YAMONFILM</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}

/* ===== BODY ===== */
body{
  font-family: Arial, sans-serif;
  background:#0f0f0f;
  color:white;
  display:block;
}

/* ===== MENU DE CODE / √âCRAN DE VERROU ===== */
.lock-screen{
  position:fixed;
  inset:0;
  background:#0f0f0f;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}

.lock-container{
  background:#1c1c1c;
  padding:40px 60px;
  border-radius:12px;
  text-align:center;
  box-shadow: 0 0 20px rgba(0,0,0,0.8);
  border:2px solid #e50914;
}

.lock-container h2{
  font-size:28px;
  margin-bottom:25px;
  color:white;
}

.lock-container input{
  width:100%;
  padding:15px 20px;
  border-radius:8px;
  border:none;
  margin-bottom:20px;
  font-size:16px;
}

.lock-container button{
  padding:15px 30px;
  border:none;
  background:#e50914;
  color:white;
  font-size:16px;
  font-weight:bold;
  border-radius:8px;
  cursor:pointer;
  transition:.3s;
}

.lock-container button:hover{
  background:#ff2e2e;
}

/* ===== CONTENU PRINCIPAL ===== */
.main-content{
  display:none;
}

/* ===== HEADER ===== */
header{
  position:fixed;
  top:0;
  width:100%;
  padding:15px 40px;
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(10px);
  display:flex;
  justify-content:space-between;
  align-items:center;
  z-index:1000;
}

.logo{
  font-size:22px;
  font-weight:bold;
  color:#e50914;
  text-decoration:none;
}

/* ===== HERO ===== */
.hero{
  margin-top:70px;
  height:80vh;
  background-size:cover;
  background-position:center;
  display:flex;
  align-items:flex-end;
  padding:80px;
  position:relative;
}

.hero::after{
  content:"";
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  height:60%;
  background:linear-gradient(to top,#0f0f0f,transparent);
}

.hero-content{
  position:relative;
  z-index:2;
  max-width:600px;
}

.hero h1{
  font-size:55px;
  margin-bottom:15px;
}

.meta{
  color:#ccc;
  margin-bottom:15px;
}

.btn-main{
  display:inline-block;
  background:#e50914;
  color:white;
  text-decoration:none;
  padding:15px 35px;
  border-radius:8px;
  font-size:18px;
  font-weight:bold;
  cursor:pointer;
  transition:.3s;
  margin-top:15px;
}

.btn-main:hover{
  background:#ff2e2e;
}

/* ===== SAISON ===== */
.season-section{
  padding:40px 80px 20px;
}

.season-dropdown{
  position:relative;
  display:inline-block;
}

.season-menu{
  position:absolute;
  background:#1c1c1c;
  border-radius:8px;
  margin-top:10px;
  display:none;
  overflow:hidden;
}

.season-menu div{
  padding:12px 20px;
  cursor:pointer;
}

.season-menu div:hover{
  background:#e50914;
}

.show{display:block}

/* ===== EPISODES ===== */
.episodes{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
  gap:20px;
  padding:20px 80px 80px;
}

.card{
  background:#1c1c1c;
  border-radius:12px;
  overflow:hidden;
  cursor:pointer;
  transition:.3s;
}

.card:hover{
  transform:scale(1.05);
}

.card img{
  width:100%;
  height:150px;
  object-fit:cover;
}

.card-content{
  padding:15px;
}

.badge{
  font-size:12px;
  background:#e50914;
  padding:4px 8px;
  border-radius:5px;
}

/* ===== RESPONSIVE ===== */
@media(max-width:768px){
  .hero{padding:40px;height:70vh}
  .hero h1{font-size:32px}
  .season-section{padding:20px 40px 20px}
  .episodes{padding:20px 40px 60px}
}
</style>
</head>
<body>

<!-- üîí Menu code -->
<div id="lockScreen" class="lock-screen">
  <div class="lock-container">
    <h2>Entrez le code d'acc√®s</h2>
    <input type="password" id="accessCode" placeholder="Code d'acc√®s">
    <button onclick="checkCode()">Acc√©der</button>
  </div>
</div>

<!-- CONTENU PRINCIPAL -->
<div class="main-content">
<header>
  <a href="index.html" class="logo">YAMONFILM</a>
</header>

<section class="hero" id="hero">
  <div class="hero-content">
    <h1 id="title">Chargement...</h1>
    <p class="meta" id="meta"></p>
    <p id="overview"></p>
   
    </a>
  </div>
</section>

<div class="season-section">
  <div class="season-dropdown">
    <button class="btn-main" id="seasonBtn">Saison 1 ‚ñº</button>
    <div class="season-menu" id="seasonMenu"></div>
  </div>
</div>

<div class="episodes" id="episodes"></div>
</div>

<script>
const apiKey="182c7173698e34803715eacab5c693a7";
const seriesId=40996;
const imgBase="https://image.tmdb.org/t/p/original";

// üîó Liens pour chaque √©pisode (√† compl√©ter)
const episodeLinks = {
  1: { // Saison 1
    1: "https://app.videas.fr/embed/media/9be0c38d-cc48-406b-9c77-97926b985b98/",
    2: "https://app.videas.fr/embed/media/7c3cfb1b-2488-4fc6-9a59-5fa244fa30f9/",
    3: "https://app.videas.fr/embed/media/7dc76559-de0a-48e9-8942-0970e9377ae4/"
     4: "https://app.videas.fr/embed/media/44384b82-075b-49cc-b5ee-fed4f829c6ae/"
   5: "https://app.videas.fr/embed/media/c7e8d288-d36c-4fa0-a806-f10ff9e22d3f/"
   6: "https://app.videas.fr/embed/media/47639575-5d6e-4af1-85dd-3cc413fefc14/"
   7: "https://app.videas.fr/embed/media/d58e220c-4ab3-4fa2-b512-38a244378c6b/"
    // ajoute tous les √©pisodes
  },
  2: { // Saison 2
    1: "https://lien-s2-ep1.com",
    2: "https://lien-s2-ep2.com"
    // etc.
  }
};

/* üîí V√©rification Code */
function checkCode(){
  const code = document.getElementById("accessCode").value;
  if(code === "200105"){
    document.getElementById("lockScreen").style.display = "none";
    document.querySelector(".main-content").style.display = "block";
  } else {
    alert("Code incorrect");
  }
}

/* TMDB */
const hero = document.getElementById("hero");
const title = document.getElementById("title");
const meta = document.getElementById("meta");
const overview = document.getElementById("overview");
const seasonMenu = document.getElementById("seasonMenu");
const seasonBtn = document.getElementById("seasonBtn");
const episodesContainer = document.getElementById("episodes");

async function loadSeries(){
  const res = await fetch(`https://api.themoviedb.org/3/tv/${seriesId}?api_key=${apiKey}&language=fr-FR`);
  const data = await res.json();

  title.textContent = data.name;
  meta.textContent = `‚≠ê ${data.vote_average} ‚Ä¢ ${data.first_air_date} ‚Ä¢ ${data.number_of_seasons} saisons`;
  overview.textContent = data.overview;
  hero.style.backgroundImage = `url(${imgBase}${data.backdrop_path})`;

  loadSeasons(data.number_of_seasons);
}

function loadSeasons(total){
  seasonMenu.innerHTML = "";
  for(let i=1;i<=total;i++){
    const div = document.createElement("div");
    div.textContent = "Saison " + i;
    div.onclick = () => {
      seasonBtn.innerHTML = "Saison " + i + " ‚ñº";
      seasonMenu.classList.remove("show");
      loadEpisodes(i);
    };
    seasonMenu.appendChild(div);
  }
  loadEpisodes(1);
}

async function loadEpisodes(season){
  episodesContainer.innerHTML = "";
  const res = await fetch(`https://api.themoviedb.org/3/tv/${seriesId}/season/${season}?api_key=${apiKey}&language=fr-FR`);
  const data = await res.json();

  data.episodes.forEach(ep => {
    let imageUrl = ep.still_path ? imgBase + ep.still_path :
                   data.poster_path ? imgBase + data.poster_path :
                   "https://via.placeholder.com/500x281?text=Episode";

    const card = document.createElement("div");
    card.className = "card";

    card.innerHTML = `
      <img src="${imageUrl}">
      <div class="card-content">
        <span class="badge">‚≠ê ${ep.vote_average||"N/A"}</span>
        <h4>${ep.episode_number}. ${ep.name}</h4>
        <small>${ep.air_date||""}</small>
      </div>
    `;

    // Chaque √©pisode clique sur son propre lien
    card.onclick = () => {
      const link = episodeLinks[season] && episodeLinks[season][ep.episode_number];
      if(link){
        window.location.href = link;
      } else {
        alert("Lien non d√©fini pour cet √©pisode");
      }
    };

    episodesContainer.appendChild(card);
  });
}

seasonBtn.onclick = () => { seasonMenu.classList.toggle("show"); }

loadSeries();
</script>

</body>
</html>
