<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YAMONFILM - Medicopter 117</title>

<style>
html{scroll-behavior:smooth;}
body{
margin:0;
font-family:Arial, sans-serif;
background:#0b0f14;
color:white;
}

header{
position:fixed;
top:0;
width:100%;
padding:15px 40px;
display:flex;
justify-content:space-between;
align-items:center;
background:rgba(0,0,0,0.6);
backdrop-filter:blur(10px);
z-index:1000;
}
.logo{
font-size:22px;
font-weight:bold;
color:#e50914;
}

/* HERO */
.hero{
height:85vh;
background-size:cover;
background-position:center;
display:flex;
align-items:flex-end;
padding:80px 60px;
position:relative;
}
.hero::before{
content:"";
position:absolute;
inset:0;
background:linear-gradient(to top,#0b0f14 15%,transparent 70%);
}
.hero-content{
position:relative;
max-width:700px;
}
.hero h1{
font-size:60px;
margin:0 0 10px 0;
}
.meta{opacity:0.8;margin-bottom:15px;}
.description{line-height:1.6;margin-bottom:25px;}

.btn-main{
background:#e50914;
color:white;
border:none;
padding:15px 35px;
border-radius:10px;
font-weight:bold;
font-size:16px;
cursor:pointer;
transition:0.3s;
}
.btn-main:hover{
background:#ff1f1f;
transform:scale(1.05);
}

/* SAISON */
.season-section{padding:40px 60px 20px;}
.season-dropdown{position:relative;display:inline-block;}
.season-menu{
display:none;
position:absolute;
background:#141a22;
margin-top:10px;
border-radius:10px;
overflow:hidden;
min-width:180px;
box-shadow:0 10px 20px rgba(0,0,0,0.5);
}
.season-menu div{
padding:12px 15px;
cursor:pointer;
transition:0.2s;
}
.season-menu div:hover{background:#e50914;}
.season-menu.show{display:block;}

.episodes{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
gap:25px;
padding:20px 60px 60px;
}
.card{
background:#141a22;
border-radius:12px;
overflow:hidden;
transition:0.3s;
cursor:pointer;
}
.card:hover{transform:scale(1.05);}
.card-content{padding:15px;}
.badge{
display:inline-block;
background:#1db954;
padding:4px 8px;
border-radius:5px;
font-size:12px;
margin-bottom:8px;
}
</style>
</head>
<body>

<header>
<div class="logo">YAMONFILM</div>
<div>üîç üîî ‚ò∞</div>
</header>

<section class="hero" id="hero">
<div class="hero-content">
<h1 id="title">Medicopter 117</h1>
<div class="meta" id="meta"></div>
<p class="description" id="plot"></p>
<button class="btn-main">‚ñ∂ Regarder maintenant</button>
</div>
</section>

<div class="season-section">
<div class="season-dropdown">
<button class="btn-main" id="seasonBtn">Saison 1 ‚ñº</button>
<div class="season-menu" id="seasonMenu"></div>
</div>
</div>

<div class="episodes" id="episodes"></div>

<script>
const apiKey = "ded42c99";
const imdbID = "tt0165049"; // Medicopter 117

const hero = document.getElementById("hero");
const title = document.getElementById("title");
const meta = document.getElementById("meta");
const plot = document.getElementById("plot");

const seasonBtn = document.getElementById("seasonBtn");
const seasonMenu = document.getElementById("seasonMenu");
const episodesContainer = document.getElementById("episodes");

// Infos principales
async function loadSeries(){
const res = await fetch(`https://www.omdbapi.com/?i=${imdbID}&apikey=${apiKey}`);
const data = await res.json();

title.textContent = data.Title;
meta.textContent = `‚≠ê ${data.imdbRating} ‚Ä¢ ${data.Year} ‚Ä¢ ${data.Genre} ‚Ä¢ ${data.totalSeasons} saisons`;
plot.textContent = data.Plot;

hero.style.backgroundImage = `url(${data.Poster})`;

loadSeasons(data.totalSeasons);
}

// Saisons
function loadSeasons(totalSeasons){
seasonMenu.innerHTML="";

for(let i=1;i<=totalSeasons;i++){
const div=document.createElement("div");
div.textContent="Saison "+i;
div.dataset.season=i;

div.onclick=()=>{
seasonBtn.innerHTML="Saison "+i+" ‚ñº";
seasonMenu.classList.remove("show");
loadEpisodes(i);
};

seasonMenu.appendChild(div);
}

loadEpisodes(1);
}

// Episodes
async function loadEpisodes(season){
episodesContainer.innerHTML="";

const res = await fetch(`https://www.omdbapi.com/?i=${imdbID}&Season=${season}&apikey=${apiKey}`);
const data = await res.json();

if(!data.Episodes){
episodesContainer.innerHTML="<p>Aucun √©pisode trouv√©.</p>";
return;
}

data.Episodes.forEach(ep=>{
const card=document.createElement("div");
card.className="card";

card.innerHTML=`
<div class="card-content">
<span class="badge">IMDb ‚≠ê ${ep.imdbRating || "N/A"}</span>
<h4>${ep.Episode}. ${ep.Title}</h4>
<small>${ep.Released}</small>
</div>
`;

card.onclick=()=>{
window.scrollTo({top:0,behavior:"smooth"});
};

episodesContainer.appendChild(card);
});
}

seasonBtn.onclick=()=>{
seasonMenu.classList.toggle("show");
};

loadSeries();
</script>

</body>
</html>
